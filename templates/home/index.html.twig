{# templates/home/index.html.twig #}
{% extends 'base2.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <!-- Début partie Evenement -->
            <div class="col-md-4 mb-4">
                <div class="p-3 border rounded">
                    <h5 class="text-center">Evénements</h5>
                    {% for event in events %}
                    <div class="post-preview">
                        <h6 class="post-title">
                            <a href="{{ path('app_event_show', {'id': event.id}) }}">
                                {{ event.title }}
                            </a>
                        </h6>
                        <p class="post-meta">
                            <small>
                                {{ event.description|slice(0, 50) }}...
                                <a href="{{ path('app_event_show', {'id': event.id}) }}">
                                    → lire
                                </a>
                            </small>
                        </p>
                    </div>
                    {% endfor %}
                    <a href="{{ path('app_event_new') }}" class="btn btn-primary">Créer un nouvel événement</a>
                </div>
            </div>
            <!-- Fin partie Evenement -->

            <!-- Début partie Posts -->
            <div class="col-md-8 mb-4">
                <div class="p-3 border rounded">
                    <h5 class="text-center">Derniers posts</h5>
                    {% for topic in topics %}
                        <div class="col-md-12">
                            <!-- Post preview-->
                            <div class="post-preview">
                                <a href="#">
                                    <h6 class="post-title"><a href="{{ path('app_topic_show', { 'id': topic.id }) }}">{{ topic.title }}</a></h6>
                                    <small class="post-subtitle">{{topic.description|slice(0, 50)}}</small>
                                </a>
                                <small class="post-meta">
                                    Posté par
                                    <small>{{ topic.author.username }}
                                        le {{ topic.createdAt|date('d/m/Y H:i') }}
                                    </small>
                                    <a href="{{ path('app_topic_show', { 'id': topic.id }) }}"> 
                                        → lire...
                                    </a>
                                </small>
                            </div>
                            <!-- Divider-->
                            <hr class="my-4" />
                        </div>
                    {% else %}
                        <p>Aucun sujet trouvé</p>
                    {% endfor %}
                    <div class="d-flex justify-content-end mb-4">
                        <a class="btn btn-primary text-uppercase" href="#!">Anciens Posts →</a>
                    </div>
                    <div class="d-flex justify-content-end mb-4">
                        <a href="{{ path('app_topic_new') }}" class="btn btn-primary">Créer un nouveau sujet</a>
                    </div>
                </div>
            </div>
            <!-- Fin partie Posts -->

        </div>
    </div>
{% endblock %}
